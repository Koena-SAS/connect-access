"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[986],{8716:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return r},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return d},default:function(){return h}});var o=n(7462),i=n(3366),a=(n(7294),n(3905)),s=["components"],r={sidebar_position:2},l="Contributing",c={unversionedId:"developer-documentation/contributing",id:"developer-documentation/contributing",isDocsHomePage:!1,title:"Contributing",description:"Thank you for considering to contribute to this project. There are many ways you can contribute, including features or bug fixes through pull requests, but also documentation improvement, opening issues for bugfixes or proposing feature requests.",source:"@site/docs/developer-documentation/contributing.md",sourceDirName:"developer-documentation",slug:"/developer-documentation/contributing",permalink:"/docs/developer-documentation/contributing",editUrl:"https://gitlab.com/koena/connect-access/-/edit/master/docs/docs/developer-documentation/contributing.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Local environment",permalink:"/docs/developer-documentation/local-environment"},next:{title:"Architecture",permalink:"/docs/developer-documentation/architecture"}},d=[{value:"Feature requests and bug reports",id:"feature-requests-and-bug-reports",children:[],level:2},{value:"Documentation",id:"documentation",children:[],level:2},{value:"Code contribution",id:"code-contribution",children:[{value:"Merge requests and continuous integration",id:"merge-requests-and-continuous-integration",children:[],level:3},{value:"Conventional commits",id:"conventional-commits",children:[],level:3}],level:2},{value:"Code quality",id:"code-quality",children:[{value:"Accessibility",id:"accessibility",children:[],level:3},{value:"Backend code quality",id:"backend-code-quality",children:[{value:"Testing and linting",id:"testing-and-linting",children:[],level:4}],level:3},{value:"Frontend code quality",id:"frontend-code-quality",children:[{value:"Testing and linting",id:"testing-and-linting-1",children:[],level:4}],level:3},{value:"End to end tests",id:"end-to-end-tests",children:[],level:3}],level:2}],u={toc:d};function h(e){var t=e.components,n=(0,i.Z)(e,s);return(0,a.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"contributing"},"Contributing"),(0,a.kt)("p",null,"Thank you for considering to contribute to this project. There are many ways you can contribute, including features or bug fixes through pull requests, but also documentation improvement, opening issues for bugfixes or proposing feature requests."),(0,a.kt)("p",null,"If you would like to contribute please be kind and respectful."),(0,a.kt)("h2",{id:"feature-requests-and-bug-reports"},"Feature requests and bug reports"),(0,a.kt)("p",null,"Before creating an issue, please search in the ",(0,a.kt)("a",{parentName:"p",href:"https://gitlab.com/koena/connect-access/-/issues"},"existing issues")," if something similar doesn't already exist."),(0,a.kt)("p",null,"In case of bug report, providing detailed instructions to reproduce can really help fixing the bug quickly."),(0,a.kt)("h2",{id:"documentation"},"Documentation"),(0,a.kt)("p",null,"The documentation you are reading is built with ",(0,a.kt)("a",{parentName:"p",href:"https://docusaurus.io/"},"Docusaurus")," and has its source files in the repository, in the ",(0,a.kt)("inlineCode",{parentName:"p"},"docs/")," folder. The source files can contain markdown code but also JSX code."),(0,a.kt)("p",null,"Currently the documentation has to be built locally and commited to the repository, so that it can be cloned frome any static server directly without the need to run any code. A CI job will check that the code is correctly linted and type-checked, but also that it has been build and commited."),(0,a.kt)("h2",{id:"code-contribution"},"Code contribution"),(0,a.kt)("h3",{id:"merge-requests-and-continuous-integration"},"Merge requests and continuous integration"),(0,a.kt)("p",null,"All the code contributions are made through pull/merge requests, to have discussion and code reviews, but also to let the CI validate that everything works."),(0,a.kt)("p",null,"As much as possible please consider submitting your ideas and commiting/pushing your work early to get feedback, instead of working very long on something that may not be integrated. With gitlab new branch is created automatically with the merge request."),(0,a.kt)("p",null,"Please try to keep your merge requests small (ideally not more than 1 or 2 days of work). To get your code integrated the tests have to pass, but the feature may not be complete. In that case you can hide the feature with CSS if needed until it is ready to be shown."),(0,a.kt)("h3",{id:"conventional-commits"},"Conventional commits"),(0,a.kt)("p",null,"We are following the ",(0,a.kt)("a",{parentName:"p",href:"https://www.conventionalcommits.org/en/v1.0.0/"},"Conventionnal Commits guidelines")," for our commit messages. Please take a look at these guidelines and at the commit log history of the project to have an idea of the used convention."),(0,a.kt)("p",null,"The convention is followed on branch ",(0,a.kt)("inlineCode",{parentName:"p"},"master"),", but you may not follow it on your branch until merged, as the commit messages will be squashed in one commit for your whole merge request."),(0,a.kt)("h2",{id:"code-quality"},"Code quality"),(0,a.kt)("p",null,"The code has to maintain a good level of quality. It has to remain readable, correctly formatted and tested. The styling has to remain responsive. It should also be accessible as much as possible to include everyone."),(0,a.kt)("p",null,"To begin your code contribution, please follow the ",(0,a.kt)("a",{parentName:"p",href:"/docs/developer-documentation/local-environment"},"instructions for local environment installation"),"."),(0,a.kt)("h3",{id:"accessibility"},"Accessibility"),(0,a.kt)("p",null,"The project follows the ",(0,a.kt)("a",{parentName:"p",href:"https://www.w3.org/WAI/standards-guidelines/wcag/"},"WCAG guidelines"),", and specifically the french ",(0,a.kt)("a",{parentName:"p",href:"https://www.numerique.gouv.fr/publications/rgaa-accessibilite/"},"RGAA norm"),"."),(0,a.kt)("p",null,"You have to make sure as much as possible that at least the WCAG AA level rules are respected."),(0,a.kt)("p",null,"For some of them you may be alerted by the frontend linter that uses ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/jsx-eslint/eslint-plugin-jsx-a11y"},"eslint-plugin-jsx-a11y")," to parse the JSX React code and find accessibility issues, and also the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/dequelabs/axe-core"},"axe")," tool used on the final generated HTML code during the end to end tests. But for most of them you will have to check them yourself, or with the help of a human being reviewing your code."),(0,a.kt)("h3",{id:"backend-code-quality"},"Backend code quality"),(0,a.kt)("h4",{id:"testing-and-linting"},"Testing and linting"),(0,a.kt)("p",null,"To run all unit tests and linting tools, you can run the script file in the ",(0,a.kt)("inlineCode",{parentName:"p"},"backend")," folder:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"chmod +x test_all.sh\n./test_all.sh\n")),(0,a.kt)("p",null,"That file contains actually all the individual commands that can be run:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"flake8 ../backend --config=setup.cfg --max-complexity=10 # for code linting\nmypy connect_access config --config=setup.cfg # for static type checking\nblack --check . # for code style checking\npytest # for unit tests\n")),(0,a.kt)("h3",{id:"frontend-code-quality"},"Frontend code quality"),(0,a.kt)("h4",{id:"testing-and-linting-1"},"Testing and linting"),(0,a.kt)("p",null,"To run all unit tests and linting tools, you can run the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yarn test-all\n")),(0,a.kt)("p",null,"Which corresponds to these commands run one by one:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yarn lint # for linting\nyarn type-check # for static type checking\nyarn test # for unit testing\n")),(0,a.kt)("p",null,"You can also run the code style check with:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yarn format-check\n")),(0,a.kt)("h3",{id:"end-to-end-tests"},"End to end tests"),(0,a.kt)("p",null,"The end to end tests are currently located in the frontend directory, and are using ",(0,a.kt)("a",{parentName:"p",href:"https://codecept.io/"},"CodeceptJS"),"."),(0,a.kt)("p",null,"To run the backend and frontend in end to end tests you need also to install ",(0,a.kt)("inlineCode",{parentName:"p"},"pm2"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm install -g pm2\n")),(0,a.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"To avoid conflicting with the started development backend and frontend servers, the backend and the frontend servers for the end to end tests will be started by default on ports 3501 and 3502."))),(0,a.kt)("p",null,"The tests can be run with:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cd frontend/\nyarn e2e\n")))}h.isMDXComponent=!0}}]);