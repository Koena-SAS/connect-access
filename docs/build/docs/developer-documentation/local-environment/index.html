<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Connect Access RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Connect Access Atom Feed"><title data-react-helmet="true">Local environment | Connect Access</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://connectaccess.org/docs/developer-documentation/local-environment"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Local environment | Connect Access"><meta data-react-helmet="true" name="description" content="Requirements"><meta data-react-helmet="true" property="og:description" content="Requirements"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://connectaccess.org/docs/developer-documentation/local-environment"><link data-react-helmet="true" rel="alternate" href="https://connectaccess.org/docs/developer-documentation/local-environment" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://connectaccess.org/fr/docs/developer-documentation/local-environment" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://connectaccess.org/docs/developer-documentation/local-environment" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.95cc0c17.css">
<link rel="preload" href="/assets/js/runtime~main.e232bb9a.js" as="script">
<link rel="preload" href="/assets/js/main.0dc6a68e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Connect Access" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_dark.svg" alt="Connect Access" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/developer-documentation/local-environment" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/fr/docs/developer-documentation/local-environment" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">franÃ§ais</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://gitlab.com/koena/connect-access" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Source code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Developer documentation</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/developer-documentation/local-environment">Local environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-documentation/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-documentation/architecture">Architecture</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User documentation</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Local environment</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requirements">Requirements<a aria-hidden="true" class="hash-link" href="#requirements" title="Direct link to heading">â€‹</a></h2><p>Connect Access can be installed and run locally fully with Docker, or without Docker by installing all the needed interpreters and tools:</p><p>For local development using Docker:</p><ul><li>Docker Engine v20+</li><li>Docker Compose v1.29+</li></ul><p>For local development without docker:</p><ul><li>Python v3.9+</li><li>Node.js v16+</li><li>PostgreSQL v13+</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="initial-steps">Initial steps<a aria-hidden="true" class="hash-link" href="#initial-steps" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="get-the-repository">Get the repository<a aria-hidden="true" class="hash-link" href="#get-the-repository" title="Direct link to heading">â€‹</a></h3><p>To begin, you have to clone the repository locally:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://gitlab.com/koena/connect-access.git</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="configure-the-git-pre-commit-hook">Configure the git pre-commit hook<a aria-hidden="true" class="hash-link" href="#configure-the-git-pre-commit-hook" title="Direct link to heading">â€‹</a></h3><p>Then you can install the python <code>pre-commit</code> package and install the git pre commit hooks, to ensure the code you commit is linted:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> pre-commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># in the project folder</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pre-commit </span><span class="token function" style="color:#d73a49">install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>For this step you need to have Python on your machine. You may skip this but you will then have to make sure that all the quality tools are run before you push or the CI will fail.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="setup-the-local-environment-variable-files">Setup the local environment variable files<a aria-hidden="true" class="hash-link" href="#setup-the-local-environment-variable-files" title="Direct link to heading">â€‹</a></h3><p>Some of the configuration is done via environment variables, that are actually taken from files in the <code>.envs</code> directory.</p><p>First you need to copy <code>.envs/local_template</code> to <code>.envs/.local</code>, and fill the values in each file. Most of the values are pre-filled to help you start quickly, but you may need to modify them. For example the PostgreSQL database name and user is set to <code>debug</code>, if you choose something else you will have to change that.</p><p>When using Docker the environment variables will be set directly from the files in <code>.envs/.local</code> by docker-compose so you don&#x27;t need to do anything else.</p><p>When using your own machine directly, you will have to source your terminal with the appropriate file containing the environment variables:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">source</span><span class="token plain"> .envs/.local/local_no_docker_activate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="install-and-run-without-docker">Install and run without Docker<a aria-hidden="true" class="hash-link" href="#install-and-run-without-docker" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="database">Database<a aria-hidden="true" class="hash-link" href="#database" title="Direct link to heading">â€‹</a></h3><p>You need to create a PostgreSQL database for the backend, and another one that will be automatically flushed on each run for the end to end tests.</p><p>By default, if you don&#x27;t change the values copied from <code>.envs/local_template</code>, the database name and user name are <code>debug</code>, and the end to end database name is <code>connect_access_end_to_end</code>.</p><p>Here are the commands to create the user and the two databases:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">createuser </span><span class="token variable" style="color:#36acaa">${POSTGRES_USER}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">createdb </span><span class="token variable" style="color:#36acaa">${POSTGRES_DB}</span><span class="token plain"> -U </span><span class="token variable" style="color:#36acaa">${POSTGRES_USER}</span><span class="token plain"> --password </span><span class="token variable" style="color:#36acaa">${POSTGRES_PASSWORD}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">createdb </span><span class="token variable" style="color:#36acaa">${POSTGRES_DB_END_TO_END}</span><span class="token plain"> -U </span><span class="token variable" style="color:#36acaa">${POSTGRES_USER}</span><span class="token plain"> --password </span><span class="token variable" style="color:#36acaa">${POSTGRES_PASSWORD}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>If the user creation does not work, you can create it with the psql console (don&#x27;t forget to replace the user name and apssword):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> -u postgres psql</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI sql"><pre tabindex="0" class="prism-code language-sql codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> ROLE debug </span><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> CREATEDB LOGIN PASSWORD </span><span class="token string" style="color:#e3116c">&#x27;debug&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\q</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="backend">Backend<a aria-hidden="true" class="hash-link" href="#backend" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="install">Install<a aria-hidden="true" class="hash-link" href="#install" title="Direct link to heading">â€‹</a></h4><p>First you need to create a virtual environment for the python packages:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m venv venv</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Then source it, and install the packages needed for local development:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">source</span><span class="token plain"> venv/bin/activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -r backend/requirements/local.txt</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>If the installation of some python packages doesn&#x27;t work because of compilation errors, on linux you may need to install the following dependencies:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> python3.9-dev libpq-dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="apply-the-database-migrations">Apply the database migrations<a aria-hidden="true" class="hash-link" href="#apply-the-database-migrations" title="Direct link to heading">â€‹</a></h4><p>When the database has not the latest database migrations applied, you need to run the following command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python manage.py migrate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="build-lang-files">Build lang files<a aria-hidden="true" class="hash-link" href="#build-lang-files" title="Direct link to heading">â€‹</a></h4><p>The french translation has to be built with a command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">python manage.py compilemessages</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="run-the-development-server">Run the development server<a aria-hidden="true" class="hash-link" href="#run-the-development-server" title="Direct link to heading">â€‹</a></h4><p>To run the backend in dev mode, use the Django integrated development server:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">python manage.py runserver</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>By default, the backend will be available on <a href="http://localhost:8000" target="_blank" rel="noopener noreferrer">localhost:8000</a> but without the frontend running there will be nothing displayed there as the root path displays what is available on port 3000.</p><p>You can however access the other paths served by the backend, especially the browsable API provided by Django Rest Framework on <a href="http://localhost:8000/api/" target="_blank" rel="noopener noreferrer">localhost:8000/api/</a>, and the Django admin panel to manage database objects on <a href="http://localhost:8000/admin/" target="_blank" rel="noopener noreferrer">localhost:8000/api/</a>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>In development mode, there are no real emails sent. Everytime an email has to be sent you can see the sent data in the console of the Django development server.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="frontend">Frontend<a aria-hidden="true" class="hash-link" href="#frontend" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="install-1">Install<a aria-hidden="true" class="hash-link" href="#install-1" title="Direct link to heading">â€‹</a></h4><p>You need to have <code>yarn</code> installed to run the frontend commands:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -g </span><span class="token function" style="color:#d73a49">yarn</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Then you can install the frontend npm packages:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> frontend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="build-lang-files-1">Build lang files<a aria-hidden="true" class="hash-link" href="#build-lang-files-1" title="Direct link to heading">â€‹</a></h4><p>The french translation has to be built with a command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> lang:compile</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="run-the-development-server-1">Run the development server<a aria-hidden="true" class="hash-link" href="#run-the-development-server-1" title="Direct link to heading">â€‹</a></h4><p>To run the frontend you need to install and run the development server of React:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> start</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>By default, the frontend will be available on <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">localhost:3000</a> but you should access the application through <a href="http://localhost:8000" target="_blank" rel="noopener noreferrer">localhost:8000</a> when both the frontend and the backend are running, because the frontend is actually served through a specific view of the Django app.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="install-and-run-with-docker">Install and run with Docker<a aria-hidden="true" class="hash-link" href="#install-and-run-with-docker" title="Direct link to heading">â€‹</a></h2><p>Everything is built and started at once with <code>docker-compose</code>, and the local code is mounted to docker, so no need to rebuild at each change.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="build-and-run-the-development-servers">Build and run the development servers<a aria-hidden="true" class="hash-link" href="#build-and-run-the-development-servers" title="Direct link to heading">â€‹</a></h3><p>You need to build the docker images first, and then run the containers:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f local.yml build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f local.yml up</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You could also run it in daemon mode, in that case you dont keep the logs in your terminal, and you will have to stop the containers with another command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f local.yml up -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f local.yml down</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>As with the non-Docker mode, the frontend server is available on <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">localhost:8000</a> and the backend server is available on <a href="http://localhost:8000" target="_blank" rel="noopener noreferrer">localhost:8000</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="execute-commands-on-the-frontend-or-the-backend">Execute commands on the frontend or the backend<a aria-hidden="true" class="hash-link" href="#execute-commands-on-the-frontend-or-the-backend" title="Direct link to heading">â€‹</a></h3><p>There is no need to run <code>python manage.py runserver</code> and <code>yarn start</code> as they are already running, but you can execute any other command on the backend or the frontend:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f local.yml run -w /app/backend django python manage.py compilemessages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose -f local.yml run -w /app/frontend django </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> lang:compile</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="run-docker-stagingproduction-image-locally">Run Docker staging/production image locally<a aria-hidden="true" class="hash-link" href="#run-docker-stagingproduction-image-locally" title="Direct link to heading">â€‹</a></h2><p>Running the staging/production image locally is actually the same as running it on a server as docker abstracts everything that matters. You just need to follow the <a href="/docs/user-documentation/deployement">deployement instructions</a> on your local machine.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://gitlab.com/koena/connect-access/-/edit/master/docs/docs/developer-documentation/local-environment.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Intro</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/developer-documentation/contributing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contributing<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#initial-steps" class="table-of-contents__link toc-highlight">Initial steps</a><ul><li><a href="#get-the-repository" class="table-of-contents__link toc-highlight">Get the repository</a></li><li><a href="#configure-the-git-pre-commit-hook" class="table-of-contents__link toc-highlight">Configure the git pre-commit hook</a></li><li><a href="#setup-the-local-environment-variable-files" class="table-of-contents__link toc-highlight">Setup the local environment variable files</a></li></ul></li><li><a href="#install-and-run-without-docker" class="table-of-contents__link toc-highlight">Install and run without Docker</a><ul><li><a href="#database" class="table-of-contents__link toc-highlight">Database</a></li><li><a href="#backend" class="table-of-contents__link toc-highlight">Backend</a></li><li><a href="#frontend" class="table-of-contents__link toc-highlight">Frontend</a></li></ul></li><li><a href="#install-and-run-with-docker" class="table-of-contents__link toc-highlight">Install and run with Docker</a><ul><li><a href="#build-and-run-the-development-servers" class="table-of-contents__link toc-highlight">Build and run the development servers</a></li><li><a href="#execute-commands-on-the-frontend-or-the-backend" class="table-of-contents__link toc-highlight">Execute commands on the frontend or the backend</a></li></ul></li><li><a href="#run-docker-stagingproduction-image-locally" class="table-of-contents__link toc-highlight">Run Docker staging/production image locally</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made by <a class="footer__link-item" href="https://koena.net">Koena</a>. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e232bb9a.js"></script>
<script src="/assets/js/main.0dc6a68e.js"></script>
</body>
</html>