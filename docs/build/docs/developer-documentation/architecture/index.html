<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Connect Access RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Connect Access Atom Feed"><title data-react-helmet="true">Architecture | Connect Access</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://connectaccess.org/docs/developer-documentation/architecture"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Architecture | Connect Access"><meta data-react-helmet="true" name="description" content="General architecture"><meta data-react-helmet="true" property="og:description" content="General architecture"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://connectaccess.org/docs/developer-documentation/architecture"><link data-react-helmet="true" rel="alternate" href="https://connectaccess.org/docs/developer-documentation/architecture" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://connectaccess.org/fr/docs/developer-documentation/architecture" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://connectaccess.org/docs/developer-documentation/architecture" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.95cc0c17.css">
<link rel="preload" href="/assets/js/runtime~main.e232bb9a.js" as="script">
<link rel="preload" href="/assets/js/main.0dc6a68e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Connect Access" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo_dark.svg" alt="Connect Access" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/developer-documentation/architecture" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/fr/docs/developer-documentation/architecture" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">franÃ§ais</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://gitlab.com/koena/connect-access" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Source code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Developer documentation</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-documentation/local-environment">Local environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-documentation/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/developer-documentation/architecture">Architecture</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">User documentation</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Architecture</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="general-architecture">General architecture<a aria-hidden="true" class="hash-link" href="#general-architecture" title="Direct link to heading">â€‹</a></h2><p>The application mainly consists of:</p><ul><li>a backend used as a REST API</li><li>a single page application frontend consuming the backend API</li></ul><p>The frontend is always served from the backend, as a fully static resource in production, and as a redirection to the frontend server in development. That&#x27;s why we always access the application from the backend server, including in development.</p><p>One of the advantages is that it is possible to compute data on server side by the Django view, and put it as HTML or JavaScript code directly in the index template page that is being used by React. This enables server side rendering to some extent.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The way the frontend is handled through the backend has been inspired from <a href="https://medium.com/@twagner000/django-create-react-app-without-ejecting-958251af362c" target="_blank" rel="noopener noreferrer">an article by Tristan Wagner</a>, with the usage of <code>django-webpack-loader</code> and <code>webpack-bundle-tracker</code>.</p><p>This configuration enables hot reload for the frontend in development, even if it is served through a backend view, and even when using Docker.</p></div></div><p>There are 2 exceptions where the backend serves HTML pages instead of being used as a web API by another program:</p><ul><li>the browsable API provided by Django Rest Framework at <code>/api/</code> when visited by a web browser, to be able to execute API calls through a web page without the frontend.</li><li>the admin interface provided by Django at <code>/admin/</code> (and at a secret path configured in <code>.envs/.production/.django</code> for production environment) to be able to easily manipulate database objects without having a custom frontend for it.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="backend">Backend<a aria-hidden="true" class="hash-link" href="#backend" title="Direct link to heading">â€‹</a></h2><p>The backend is written in Python with the Django framework. Its codebase has been bootstrapped with <a href="https://github.com/cookiecutter/cookiecutter-django" target="_blank" rel="noopener noreferrer">cookiecutter-django</a>. The cookiecutter-django documentation can help a lot to understand the way the backend is structured.</p><p>It uses a PostgreSQL database on all environments, and a RabbitMQ message broker through Celery on production.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="internationalization">Internationalization<a aria-hidden="true" class="hash-link" href="#internationalization" title="Direct link to heading">â€‹</a></h3><p>The interationalization is done through the Django main internationalization mechanism:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><pre tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">translation </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> gettext_lazy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Content to translate&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Once some translatable content is created, you can regenerate the locale files, add the correct translation, and create a compiled versions of the translation.</p><p>The translated strings are in <code>backend/locale/[LANG]/django.po</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">python manage.py makemessages -l fr </span><span class="token comment" style="color:#999988;font-style:italic"># create translations for french language</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># change the translations in /backend/locale/fr/django.po</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python manage.py compilemessages </span><span class="token comment" style="color:#999988;font-style:italic"># compile the translation files</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="frontend">Frontend<a aria-hidden="true" class="hash-link" href="#frontend" title="Direct link to heading">â€‹</a></h2><p>The frontend is written in TypeScript with the React framework. Its codebase has been bootstrapped with <a href="https://create-react-app.dev/" target="_blank" rel="noopener noreferrer">create-react-app</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="styling">Styling<a aria-hidden="true" class="hash-link" href="#styling" title="Direct link to heading">â€‹</a></h3><p>The styling source files are in <code>frontend/src/sass</code>.</p><p>The styling is done with <a href="https://sass-lang.com/" target="_blank" rel="noopener noreferrer">SASS preprocessor</a>. The files are organized with the <a href="https://kiranworkspace.com/sass-architecture/" target="_blank" rel="noopener noreferrer">7-1 architecture</a>, and the code itself is organized with the <a href="http://getbem.com/" target="_blank" rel="noopener noreferrer">Block Element Modifier (BEM) methodology</a>.</p><p>This implies that the styling blocks are independent from the React components. They may be reused or be bigger or smaller than a specific component.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="internationalization-1">Internationalization<a aria-hidden="true" class="hash-link" href="#internationalization-1" title="Direct link to heading">â€‹</a></h3><p>The internationalization is done with <a href="https://lingui.js.org/" target="_blank" rel="noopener noreferrer">LinguiJS</a>. Mainly with <code>Trans</code> and <code>t</code> macros.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> t</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Trans</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@lingui/macro&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JSX</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Element</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Trans</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Content</span><span class="token plain"> to translate</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Trans</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">AnotherComponent</span><span class="token plain"> customProp</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">t</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Content to translate</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Once some translatable content is created, you can regenerate the locale files, add the correct translation, and create a compiled versions of the translation.</p><p>The translated strings are in <code>frontend/src/locales/[LANG]/messages.po</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> lang:extract </span><span class="token comment" style="color:#999988;font-style:italic"># create translations for french and english languages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># change the translations in /frontend/src/locales/fr/messages.po</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> lang:compile </span><span class="token comment" style="color:#999988;font-style:italic"># compile the translation files</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="frontend---backend-communication">Frontend - backend communication<a aria-hidden="true" class="hash-link" href="#frontend---backend-communication" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="rest-calls">REST calls<a aria-hidden="true" class="hash-link" href="#rest-calls" title="Direct link to heading">â€‹</a></h3><p>As the backend exposes a REST API, the main communication channel is the REST calls from the frontend. It is mainly done with <code>axios</code>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="stale-while-revalidate">Stale While Revalidate<a aria-hidden="true" class="hash-link" href="#stale-while-revalidate" title="Direct link to heading">â€‹</a></h3><p>For all the resources that are regularly queried from the backend to stay up to date because the backend is the source of truth, we use <a href="https://swr.vercel.app/" target="_blank" rel="noopener noreferrer">SWR</a> to handle de refetches when necessary. It is being used as a hook in the component that directly needs the resource.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="server-side-generation">Server side generation<a aria-hidden="true" class="hash-link" href="#server-side-generation" title="Direct link to heading">â€‹</a></h3><p>React is injected in a Django template that is located in <code>frontend/public/index.html</code>. We are thus able to create a JavaScript variable called <code>window.SERVER_DATA</code> in that template, and put inside anything useful from the Django view that handles the template (located at <code>backend/connect_access/views.py</code>).</p><p>These data are available on React side immediately after the browser starts executing the JavaScript code, without the need to make a REST API call.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="testing-strategy">Testing strategy<a aria-hidden="true" class="hash-link" href="#testing-strategy" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="unit-tests">Unit Tests<a aria-hidden="true" class="hash-link" href="#unit-tests" title="Direct link to heading">â€‹</a></h3><p>Most of the backend and frontend code has been written with Test Driven Development style, by using the smallest possible iteration steps between the test and the implementation to drive the implementation from the tests. However these tests are closer to what can be called integration tests because they are done through the database for the backend, and through the UI (even if it is a light version of it with jsdom) for the frontend.</p><p>As a consequence, the execution of unit tests is slower than if it was pure Python or TypeScript code, especially for the frontend tests that take more than 30 seconds to execute on a modern computer. You are therefore encouraged to unit test complex logic outside of the database for the backend, and outside of React for the frontend.</p><p>Regarding the frontend tests, all the API calls are mocked. They return predefined data that the frontend expects from the backend.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="end-to-end-tests">End to end tests<a aria-hidden="true" class="hash-link" href="#end-to-end-tests" title="Direct link to heading">â€‹</a></h3><p>For end to end tests everything is started as in production, and the tests are done through a real browser, in visible or headless mode.</p><p>These tests are much less numerous because they get easily flaky, and because one test can take from several seconds to execute and parallelization is more difficult in end to end mode.</p><p>Instead of testing all the possible successful and error paths like with unit tests, we test the main successful path for each main feature. It especially ensures the communication between the frontend and the backend is correct.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://gitlab.com/koena/connect-access/-/edit/master/docs/docs/developer-documentation/architecture.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/developer-documentation/contributing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Contributing</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/user-documentation/deployement"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deployement<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general-architecture" class="table-of-contents__link toc-highlight">General architecture</a></li><li><a href="#backend" class="table-of-contents__link toc-highlight">Backend</a><ul><li><a href="#internationalization" class="table-of-contents__link toc-highlight">Internationalization</a></li></ul></li><li><a href="#frontend" class="table-of-contents__link toc-highlight">Frontend</a><ul><li><a href="#styling" class="table-of-contents__link toc-highlight">Styling</a></li><li><a href="#internationalization-1" class="table-of-contents__link toc-highlight">Internationalization</a></li></ul></li><li><a href="#frontend---backend-communication" class="table-of-contents__link toc-highlight">Frontend - backend communication</a><ul><li><a href="#rest-calls" class="table-of-contents__link toc-highlight">REST calls</a></li><li><a href="#stale-while-revalidate" class="table-of-contents__link toc-highlight">Stale While Revalidate</a></li><li><a href="#server-side-generation" class="table-of-contents__link toc-highlight">Server side generation</a></li></ul></li><li><a href="#testing-strategy" class="table-of-contents__link toc-highlight">Testing strategy</a><ul><li><a href="#unit-tests" class="table-of-contents__link toc-highlight">Unit Tests</a></li><li><a href="#end-to-end-tests" class="table-of-contents__link toc-highlight">End to end tests</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made by <a class="footer__link-item" href="https://koena.net">Koena</a>. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e232bb9a.js"></script>
<script src="/assets/js/main.0dc6a68e.js"></script>
</body>
</html>